# A First take on TraCI: Grabbing Vehicle ID and Coordinates every 10 simulation steps

import os, sys 

if 'SUMO_HOME' in os.environ:
  tools = os.path.join(os.environ['SUMO_HOME'], 'tools')
  sys.path.append(tools)
else:
  sys.exit("Missing SUMO_HOME env var!")

sumoGui = "/usr/bin/sumo-gui"
sumoCmd = [sumoGui, "-c", "./Basic.sumocfg"]

import traci
print dir(traci.domain)
traci.start(sumoCmd)
# Traci actually waits for the PLAY button here. 
for step in range(100):
  if step % 10 == 0:
    print step
    for i in range(0, 5):
      x, y = traci.domain.VehicleDomain.getPosition(str(i))
      print format("Vehicle %s position is %f, %f" % str(i), x, y)

#time.sleep(5)
traci.close()
